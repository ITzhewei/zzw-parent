@startuml

== 分享 ==
客户端 -> KeyConfig : 获取必要的信息含cdn链接等

客户端 -> CDN : 获取分享的文案信息

客户端 -> API服务器 : 请求share/any

API服务器 --> 客户端 : 超时/限流/开关走兜底/server内部异常等

客户端 -> 客户端 : 兜底相关处理, 卡片或者口令分享

客户端 -> 分享渠道 : 分享出去

== 回流 ==
客户端 -> KeyConfig : 获取必要的信息含cdn链接等

客户端 -> CDN : 获取分享的文案信息

客户端 -> API服务器 : 请求show/any

API服务器 --> 客户端 : 超时/限流/开关走兜底/server内部异常等

客户端 -> 客户端 : 兜底相关处理,根据口令后缀获取对应业务方信息 kwaiUrl 并弹窗

客户端 -> 业务方 : 跳转
@enduml